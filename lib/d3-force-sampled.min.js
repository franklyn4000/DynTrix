// Copyright 2022 Two Six Labs, LLC. v1.0.1 d3-force-sampled https://github.com/twosixlabs/d3-force-sampled/
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.d3=n.d3||{})}(this,function(n){"use strict";function t(n){return function(){return n}}n.forceManyBodySampled=function(){function n(n){var t,e,r,i,o=Math.floor(w()*f.length),u=f[o],a=(n.x-u.x)*(n.x-u.x)+(n.y-u.y)*(n.y-u.y),h=-1/0,l=-1;if(!(n.nearest.indexOf(o)>=0))if(n.nearest.length<c)n.nearest.push(o);else{for(;++l<n.nearest.length;)t=n.nearest[l],e=f[t],(r=(n.x-e.x)*(n.x-e.x)-(n.y-e.y)*(n.y-e.y))>h&&(i=l,h=r);a<h&&(n.nearest[i]=o)}}function e(n){var t,e,r,i,o,c,l;for(t=(e=function(n,t){t=Math.floor(t);var e,r,i,o=f.length,u=o-t;for(e=o-1;e>=u;--e)i=n[r=Math.floor(w()*e)],n[r]=n[e],n[e]=i;return n.slice(u)}(h,s)).length-1;t>=0;--t)(r=f[e[t]])!==n&&((l=(o=r.x-n.x)*o+(c=r.y-n.y)*c)>=d||(0===o&&(o=1e-6*(w()-.5),l+=o*o),0===c&&(c=1e-6*(w()-.5),l+=c*c),l<x&&(l=Math.sqrt(x*l)),i=a[n.index]*u*y/l,n.vx+=o*i,n.vy+=c*i))}function r(t){var e,r,i,o,h,l,s;if(c&&n(t),r=t.nearest,c)for(e=r.length-1;e>=0;--e)(i=f[r[e]])!==t&&((s=(h=i.x-t.x)*h+(l=i.y-t.y)*l)>=d||(0===h&&(h=1e-6*(w()-.5),s+=h*h),0===l&&(l=1e-6*(w()-.5),s+=l*l),s<x&&(s=Math.sqrt(x*s)),o=a[t.index]*u*y/s,t.vx+=h*o,t.vy+=l*o))}function i(n){var t=0,i=M,o=f.length,a=M+l;for(u=n;t<o||i<a;++t,++i)i<a&&e(f[i%o]),c&&t<o&&r(f[t]);M=a%o}function o(){if(f){var t,e,r=f.length;for(h=new Array(r),t=0;t<r;++t)h[t]=t;for(a=new Array(r),c=(c=Math.min(Math.ceil(p(f)),r))<0?0:Math.min(c,f.length),l=(l=Math.ceil(v(f)))<0?0:Math.min(l,r),s=(s=Math.ceil(m(f)))<0?0:Math.min(s,r),y=q(f),u=1,t=0;t<r;++t)for(e=f[t],a[e.index]=+g(e,t,f),e.nearest=[];e.nearest.length<c;)n(e)}}var f,u,a,h,c,l,s,y,g=t(-30),M=0,x=1,d=1/0,p=function(){return 15},v=function(n){return Math.pow(n.length,.75)},m=function(n){return Math.pow(n.length,.25)},q=function(n){return n.length<100?1:n.length<200?3:Math.sqrt(n.length)},w=Math.random;return i.initialize=function(n){f=n,o()},i.strength=function(n){return arguments.length?(g="function"==typeof n?n:t(+n),o(),i):g},i.distanceMin=function(n){return arguments.length?(x=n*n,i):Math.sqrt(x)},i.distanceMax=function(n){return arguments.length?(d=n*n,i):Math.sqrt(d)},i.neighborSize=function(n){return arguments.length?(p="function"==typeof n?n:t(+n),o(),i):p},i.updateSize=function(n){return arguments.length?(v="function"==typeof n?n:t(+n),o(),i):v},i.sampleSize=function(n){return arguments.length?(m="function"==typeof n?n:t(+n),o(),i):m},i.chargeMultiplier=function(n){return arguments.length?(q="function"==typeof n?n:t(+n),o(),i):q},i.source=function(n){return arguments.length?(w=n,i):w},i},Object.defineProperty(n,"__esModule",{value:!0})});